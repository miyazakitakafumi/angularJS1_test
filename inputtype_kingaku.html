<!DOCTYPE html>
<html ng-app="myApp">
    <head>
        <title>Angular16 Test</title>
        <meta charset="UTF-8">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.js"></script>
    </head>
    <body>
        
        <div ng-controller="myController">
            <input type="number" ng-model="price" ng-keydown="$InputPrice.filter($event)">
            <p>{{price}}</p>
        </div>
        
        <script>
            angular.module('myApp', []);
            
            angular.module('myApp').service('InputPrice', function () {
                
                this.filter = function ($event) {

                    var key = $event.which;
                    
                    if ($event.target.type === 'number') {
                        
                        if ( !(key >= 48 && key <=57) && !(key >=37 && key <= 40) &&!(key === 45) && !(key === 9) && !(key === 8) && !(key === 0) ) {
                           $event.preventDefault();
                       }
                    } 
                }
            })
            
            angular.module('myApp').controller('myController', ['$scope', 'InputPrice', function($scope, InputPrice){
                
                
                $scope.$InputPrice = InputPrice;
               
//                $scope.price_input = function($event){
//            
//                   var key = $event.which;
//                    
//                    
//                    console.log($event.target.type);
//                   console.log(key); //debug
//                    
//                   if ( !(key >= 48 && key <=57) && !(key >=37 && key <= 40) &&!(key === 45) && !(key === 9) && !(key === 8) && !(key === 0) ) {
//                       $event.preventDefault();
//                   }
//                }
            }]);
        </script>
    </body>
</html>